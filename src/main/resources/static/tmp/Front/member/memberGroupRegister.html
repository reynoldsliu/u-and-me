<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>會員中心</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>UandMe Group Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="../dist/css/memberGroupRegister.css">


</head>

<body>
    <div class="Header">
        <nav class="navbar navbar-expand-lg  bg-dark navbar-dark fixed-top">

            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <img src="../dist/img/uandmelogo-removebg-preview.png">

                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto mb-2 mb-lg-0 ">
                        <li class="nav-item me-2">
                            <a class="nav-link" href="#">活動資訊</a>
                        </li>
                        </li>
                        <li class="nav-item me-2">
                            <a class="nav-link" href="#">景點</a>
                        </li>
                        </li>
                        <li class="nav-item me-2">
                            <a class="nav-link" href="#">行程規劃</a>
                        </li>
                        </li>
                        <li class="nav-item me-2">
                            <a class="nav-link" href="#">旅遊商城</a>
                        </li>
                        <li class="nav-item me-2">
                            <a class="nav-link" href="#">揪團</a>
                        </li>
                        <li class="nav-item me-2">
                            <a class="nav-link" href="#">論壇專區</a>
                        </li>
                        </li>

                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">客服專區</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Q&A專欄</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item" href="#">聯絡我們</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <ul class="navbar-nav mx-auto mb-2 mb-lg-0 ">
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-search" viewBox="0 0 16 16">
                                <path
                                    d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                            </svg>
                        </a>
                    </li>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-person" viewBox="0 0 16 16">
                                <path
                                    d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z" />
                            </svg>
                        </a>

                    </li>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                fill="currentColor" class="bi bi-cart2" viewBox="0 0 16 16">
                                <path
                                    d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l1.25 5h8.22l1.25-5H3.14zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z" />
                            </svg>

                        </a>
                    </li>

                </ul>

            </div>
        </nav>
    </div>



    <!-- -----content----- -->

    <div class="container-fluid">
        <div class="sidebar">

            <a href="#">收藏清單</a>
            <a href="#">行程規劃</a>
            <a href="#">揪團記錄</a>
            <a href="#">論壇記錄</a>
            <a href="#">點數記錄</a>
            <a href="#">會員資料修改</a>


        </div>

        <div class="content-wrapper " style="
            margin-left: 250px;
        ">


            <div class="row">
                <div class="col-3"></div>
                <div class="container-fluid">
                    <form class="row g-3">
                        <div class="container_heading">
                            <h2>
                                <span class="container_heading_main text-center">團主身分註冊</span>


                            </h2>
                        </div>
                        <div class="col-md-6">
                            <label for="memName" class="form-label">姓名</label>
                            <input type="text" class="form-control" id="memName">
                        </div>

                        <div class="col-md-6">
                            <label for="memGender" class="form-label">性別</label>
                            <select id="memGender" class="form-select">
                                <option selected>請選擇您的性別</option>
                                <option value="1">男</option>
                                <option value="2">女</option>
                                <option value="0">不方便透露</option>
                            </select>
                        </div>
                        <br>
                        <br>
                        <br>
                        <br>

                </div>
                <div class="col-md-">
                    <label for="memEmail" class="form-label">會員帳號<信箱></label>
                    <input type="email" class="form-control" id="memEmail">
                </div>
                <br>
                <br>
                <br>
                <br>

                <div class="col-md-6">
                    <label for="memPhone" class="form-label">電話</label>
                    <input type="text" class="form-control" id="memPhone" , placeholder="請填寫您的手機號碼">
                </div>

                <div class="form-group-idcard col-md-6">
                    <label for="memIdcard" class="form-label">身分證</label>
                    <input type="text" class="form-control" id="memIdcard" , placeholder="此為申請團主必要條件">
                </div>
                <div class="form-group-idcard">
                    <label for="memIdcardPic">身分證照片上傳</label>
                    <input type="file" accept="image/*" id="memIdcardPic">
                    <!-- <br> -->
                    <img>
                </div>

                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <div class="col-12">
                    <label for="memAdress" class="form-label">地址</label>
                    <input type="text" class="form-control" id="memAdress" placeholder="請填寫您的居住地址">
                </div>


                <div class="col-12">
                    <div class="form-check">

                    </div>
                </div>
                <div id="groupBtn" class="updatebottom btn-sm">
                    <button class="btn" type="button">送出</button>
                </div>

                </form>
            </div>

        </div>
    </div>

    <div class="container-fluid footer1">
        <footer class="row row-cols-1 row-cols-sm-2 row-cols-md-5 py-5 my- border-top">
            <div class="col mb-3">
                <a href="/" class="d-flex align-items-center mb-3 link-body-emphasis text-decoration-none">
                    <svg class="bi me-2" width="40" height="32">
                        <use xlink:href="#bootstrap" />
                    </svg>
                </a>
                <p class="text-body-secondary"
                    style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">&copy; 2023</p>
            </div>

            <div class="col mb-3">

            </div>



            <div class="col mb-3 mx-5" style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">
                <h5>U&Me</h5>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">活動資訊</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">行程規劃</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">旅遊商城</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">論壇專區</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">客服專區</a></li>
                </ul>
            </div>

            <div class="col mb-3 mx-5" style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;">
                <h5>Follow Us</h5>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2"><a href="#"
                            class="nav-link p-0 text-body-secondary">E-mail:u-and-me@gamil.com</a></li>
                    <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-body-secondary">Tel:02-22222222</a>

                </ul>
                </li>

            </div>
        </footer>
    </div>
    </div>

    <script src="../dist/js/memberGroupRegister.js"></script>
</body>
<script>
    //團主申請的身分證照片預覽
    // const imageInput = document.getElementById('imageInput');
    const preview = document.getElementById('preview');

    // imageInput.addEventListener('change', (event) => {
    //     preview.innerHTML = '';
    //     const files = event.target.files;

    //     for (const file of files) {
    //         const imageURL = URL.createObjectURL(file);
    //         const image = new Image();
    //         image.src = imageURL;
    //         image.style.maxWidth = '320px'; // 設定預覽圖最大寬度
    //         image.style.maxHeight = '500px'; // 設定預覽圖最大高度
    //         preview.appendChild(image);
    //     }
    // });

    //團主申請的身分證上傳
    async function groupRegister(member) {
        const resp_ = await fetch("http://localhost:8081/u-and-me/member/membeGroupRegister", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(member)
        });

        if (response.ok) {
            alert("團主註冊成功");
        } else {
            alert("團主註冊失敗，請再次嘗試");
        }
        //   const response = await fetch("http://localhost:8081/u-and-me/member/membeGroupRegister", {
        //       method: "POST",
        //       headers: {
        //           "Content-Type": "application/json",
        //       },
        //       body: JSON.stringify(member)
        //   });

        //   if (response.ok) {
        //       alert("團主註冊成功");
        //   } else {
        //       alert("團主註冊失敗，請再次嘗試");
        //   }
    }

    const groupRegBtn_el = document.getElementById("groupBtn");
    const memIdcardPic_el = document.getElementById("memIdcardPic");
    groupRegBtn_el.addEventListener("click", function () {
        const picFile = memIdcardPic_el.files[0];
        const formData = new FormData();
        formData.append('image', picFile);
        const idcard_base64String = btoa(picFile);
        console.log(idcard_base64String);

        // const memName = document.getElementById("memName").value;
        // const memGender = document.getElementById("memGender").value;
        // const memEmail = document.getElementById("memEmail").value;
        // const memPhone = document.getElementById("memPhone").value;
        // const memIdcard = document.getElementById("memIdcard").value;
        // const memAddr = document.getElementById("memAddr").value;

        //包裝一個申請團主專用 增加身分證圖片的DTO 後端記得寫
        //@Column(name = "gr_idcard_pic")
        const groupOwnerIdCard = {
            "groupIdCardPic": idcard_base64String,

        };

        groupRegister(member);
    });

</script>

</html>